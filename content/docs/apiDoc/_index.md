---
weight: 1
bookFlatSection: true
title: "Next-stage"
---


 


# 预警指标接口文档 v1

## 1 规范说明

### 1.1 通信协议

HTTP协议

### 1.2 请求方法
所有接口只支持POST方法发起请求。

### 1.3 字符编码
HTTP通讯采用UTF-8字符集编码格式。

### 1.4 格式说明
元素出现要求说明：

符号				|说明
:----:			|:---
R				|报文中该元素必须出现（Required）
O				|报文中该元素可选出现（Optional）
C				|报文中该元素在一定条件下出现（Conditional）

### 1.5 报文规范说明

1. 报文规范仅针对交易请求数据进行描述；  

2. 报文规范中请求报文的内容为Http请求报文中RequestData值的明文内容；

3. 报文规范分为请求报文和响应报文。请求报文描述由发起方，响应报文由报文接收方响应。

### 1.6 请求报文结构

#### 1.6.1 参数说明
**RequestData（请求内容）：** 其明文为每次请求的具体参数，采用 JSON 格式.

#### 1.6.2 请求内容（RequestData）明文结构说明

采用JSON格式，其中包含Header（公有参数）、Body（私有参数）节点：

名称		|描述											|备注
:--		|:--											|:--
<!-- 公共参数	|每个接口都包含的通用参数，以JSON格式存放在Header属性	|详见以下公共参数说明 -->
私有参数	|每个接口特有的参数，以JSON格式存放在Body属性		|详见每个接口定义

<!-- **公共参数说明：**

公共参数（Header）是用于标识产品及接口鉴权的参数，每次请求均需要携带这些参数：

参数名称				|类型		|出现要求	|描述  
:----				|:---		|:------	|:---	
token				|string		|R			|用户登录后token，没有登录则为空字符串 -->

### 1.7 响应报文结构
#### 1.7.1 结构说明
所有接口响应均采用JSON格式，如无特殊说明，每次请求的返回值中，都包含下列字段：

参数名称						|类型		|出现要求	|描述  
:----						|:---		|:------	|:---	
code						|int		|R			|响应码，代码定义请见“附录A 响应吗说明”
data						|object		|R			|每个接口特有的参数，详见每个接口定义


## 2. 接口定义

### 2.1 获取检测状态异常率
- **接口说明：** 检测状态异常率
- **接口地址：** /cloud/v1/device/package/abnormal

#### 2.2.1 请求参数

参数名称						|类型		|出现要求	|描述  
:----						|:---		|:------	|:---	
created						|string		|O		|请求时间 (格式:YYYYMMDD)


请求示例：

```
{
   "created":"20181112"
}
```


#### 2.2.2 返回结果

参数名称						|类型		|出现要求	|描述  
:----						|:---		|:------	|:---	
code						|int		|R			|响应码，代码定义请见“附录A 响应吗说明”
data						|object		|R			|&nbsp;
&emsp;items						|object		|R			|&nbsp;
&emsp;&emsp;abnormalTotal				|[]string		|R			|异常设备号数组
&emsp;&emsp;validTotal				|[]string		|R			|有效设备号数组
&emsp;total				|int		|R			|此字段在此接口不生效



示例：

```
{
    "code": 200,
    "data": {
        "items": {
            "abnormalTotal": [
                "32050200041320000658",
                "32050000001326000020",
                "32050000001326000021"
                ]
            "validTotal": [
                "32050200041320000658",
                "32050000001326000020",
                "32050000001326000021",
                "32050000001326000022",
                "32050000001326000023",
                "32050000001326000072",
                "32050000001326000073",
                "32050000001326000038",
                "32050000001326000039",
                "32050800001326000025",
                "32058254001310206377",
                "32058254001310206429",
                "32058254001310206481",
                "32058254001310206583",
                "32058254001310206632",
                "32058252001310209063",
                "32058252001310209112",
                "32058252001310209164",
                "32058252001310209213",
                "32058252001310209265",
                "32058252001310209318",
                "32058252001310208155",
                "32058252001310208207",
                "32059352001320100092",
                "32059352001320100093"
            ]
        },
        "total": 1
    }
}
```


## 3 附录A 响应码说明

响应码	|说明  
:----	|:---
200		|处理成功
400		|参数不正确
500		|系统内部错误





